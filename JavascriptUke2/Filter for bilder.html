<!DOCTYPE html>

<html>
<head>
    <title>BILDEFILTER</title>
</head>
<!--I denne koden tar jeg for meg alle ferdigdefinerte filtre for bilder i Javascript--> 
<body>
    <img src="bilde1.jpg" height="400">
    <br />

    <!--input typen range vil lage en knapp man kan dra frem og tilbake for å justere inputverdi. Du velger selv ut hva som skal være maks og min verdier, og hvor mye den skal hoppe hver gang-->
    <!--Noen av typene input defineres av forskjellige ting som % , deg(for grader) eller udefinert, som du kan se i "data-scale". Og viktig å definere riktige startverdier, som Saturate, som må starte på 1--> 
    <label>Blur</label>
    <input type="range" min="0" max="100" value="0" step="1" onchange="applyFilter()" data-filter="blur" data-scale="px"><br>
    <label>Brightness</label>
    <input type="range" min="0" max="200" value="100" step="1" onchange="applyFilter()" data-filter="brightness" data-scale="%"><br>
    <label>Contrast</label>
    <input type="range" min="0" max="200" value="100" step="1" onchange="applyFilter()" data-filter="contrast" data-scale="%"><br>
    <label>Grayscale</label>
    <input type="range" min="0" max="100" value="0" step="1" onchange="applyFilter()" data-filter="grayscale" data-scale="%"><br>
    <label>Hue Rotate</label>
    <input type="range" min="0" max="360" value="0" step="1" onchange="applyFilter()" data-filter="hue-rotate" data-scale="deg"><br>
    <label>Invert</label>
    <input type="range" min="0" max="100" value="0" step="1" onchange="applyFilter()" data-filter="invert" data-scale="%"><br>
    <label>Opacity</label>
    <input type="range" min="0" max="100" value="100" step="1" onchange="applyFilter()" data-filter="opacity" data-scale="%"><br>
    <label>Saturate</label>
    <input type="range" min="1" max="100" value="1" step="1" onchange="applyFilter()" data-filter="saturate" data-scale=""><br>
    <label>Sepia</label>
    <input type="range" min="0" max="100" value="0" step="1" onchange="applyFilter()" data-filter="sepia" data-scale="%"><br>

    <!--Koden fungerer slik at på endring på slideren vil denne funksjonen kjøre. 
    bildet er lagret i en variabel, slik at hvis du legger til en effekt så en annen seinere vil bildet fortsatt ha effekten fra første endring
    filterControls får inn endring fra alle inputtypene "range", som vil si alle sliderene.
    Funksjonen endrer så computedFilter ved å finne ut hvilken endring som skal gjøres og legger til startverdien og endringer som gjøres underveis-->
    <script type="text/javascript">
        var image = document.querySelector('img');
        var filterControls = document.querySelectorAll('input[type=range]');
        function applyFilter() {
            var computedFilters = '';
            filterControls.forEach(function (item, index) {
                computedFilters += item.getAttribute('data-filter') + '(' + item.value + item.getAttribute('data-scale') + ') ';
            });
            image.style.filter = computedFilters;
        };
    </script>
</body>
</html>